(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2981:(e,t,s)=>{Promise.resolve().then(s.bind(s,5011))},5011:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var l=s(5155),a=s(2115);let r=["Low","Medium","High","Urgent"],i=["InProcess","Waiting for Quote","Completed"],n=["Wordpress","Shopify","Designing","SEO","Marketing"];function o(e){var t,s,o,c;let{task:d,onToggleComplete:u,onDeleteTask:m,onEditTask:x,autoEdit:p=!1}=e,[h,g]=(0,a.useState)(p),[f,b]=(0,a.useState)(null),[v,j]=(0,a.useState)({dueDate:d.dueDate instanceof Date?d.dueDate.toISOString().split("T")[0]:"",priority:d.priority,status:d.status,clientName:d.clientName,cms:d.cms,webUrl:d.webUrl,figmaUrl:d.figmaUrl,assetUrl:d.assetUrl,totalPrice:(null==(t=d.totalPrice)?void 0:t.toString())||"",deposit:(null==(s=d.deposit)?void 0:s.toString())||""}),N=(e,t)=>{let s={updatedAt:new Date};switch(e){case"clientName":s.clientName=t?String(t).trim():"";break;case"dueDate":s.dueDate=t?new Date(String(t)):null;break;case"priority":s.priority=t;break;case"status":s.status=t;break;case"cms":s.cms=t?String(t):null;break;case"webUrl":s.webUrl=t?String(t).trim():"";break;case"figmaUrl":s.figmaUrl=t?String(t).trim():"";break;case"assetUrl":s.assetUrl=t?String(t).trim():"";break;case"totalPrice":s.totalPrice=t?parseFloat(String(t)):null;break;case"deposit":s.deposit=t?parseFloat(String(t)):null}x(d.id,s),b(null)},y=e=>{if(!h){var t,s;b(e),j({dueDate:d.dueDate instanceof Date?d.dueDate.toISOString().split("T")[0]:"",priority:d.priority,status:d.status,clientName:d.clientName,cms:d.cms,webUrl:d.webUrl,figmaUrl:d.figmaUrl,assetUrl:d.assetUrl,totalPrice:(null==(t=d.totalPrice)?void 0:t.toString())||"",deposit:(null==(s=d.deposit)?void 0:s.toString())||""})}},w=(e,t)=>{"Enter"===e.key?N(t,v[t]):"Escape"===e.key&&b(null)},k=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",r=arguments.length>4?arguments[4]:void 0,i=f===e,n=s||"N/A";return("dueDate"===e&&s&&(n=D(d.dueDate)),"url"===a&&s&&(n=(e=>{try{let t=e.startsWith("http")?e:"https://".concat(e),s=new URL(t).hostname.replace(/^www\./,"");return s.length>14?"".concat(s.slice(0,12),"…"):s}catch(t){return e.length>14?"".concat(e.slice(0,12),"…"):e}})(String(s))),i&&!h)?"select"===a&&r?(0,l.jsxs)("select",{value:v[e]||"",onChange:t=>N(e,t.target.value||null),onBlur:()=>b(null),className:"bg-slate-800 border border-slate-600 text-slate-100 rounded px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-slate-500",autoFocus:!0,children:[(0,l.jsxs)("option",{value:"",children:["Select ",t,"..."]}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:a,value:v[e]||"",onChange:t=>j({...v,[e]:t.target.value}),onBlur:()=>N(e,v[e]),onKeyPress:t=>w(t,e),className:"bg-slate-800 border border-slate-600 text-slate-100 rounded px-2 ".concat("date"===a?"py-1.5 text-sm":"py-1 text-xs"," focus:outline-none focus:ring-2 focus:ring-slate-500 min-w-0 w-full"),autoFocus:!0,step:"number"===a?"0.01":void 0,min:"number"===a?"0":void 0}):"url"===a?(0,l.jsxs)("span",{className:"inline-flex items-center gap-1 cursor-pointer hover:bg-slate-700/40 px-1.5 py-0.5 rounded transition-colors text-blue-300 max-w-[160px] truncate",onClick:()=>y(e),title:"Click to edit",children:[(0,l.jsxs)("svg",{className:"h-3 w-3 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 010 5.656l-2 2a4 4 0 01-5.656-5.656l1-1"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.172 13.828a4 4 0 010-5.656l2-2a4 4 0 015.656 5.656l-1 1"})]}),(0,l.jsx)("span",{className:"truncate",children:String(n)})]}):(0,l.jsx)("span",{className:"cursor-pointer hover:bg-slate-700/40 px-2 py-1 rounded transition-colors text-slate-100",onClick:()=>y(e),title:"Click to edit",children:n})},D=e=>e?e.toLocaleDateString():"-";return(0,l.jsxs)("div",{className:"grid grid-cols-[24px_3fr_1.5fr_1.5fr_1.5fr_1.5fr_1.5fr_1.8fr_1.3fr_1.2fr_1.2fr_auto] items-center gap-0 px-3 py-1.5 bg-transparent hover:bg-slate-700/40 text-[11px] text-slate-100 divide-x divide-slate-700",children:[(0,l.jsx)("input",{type:"checkbox",checked:d.completed,onChange:()=>u(d.id),className:"h-4 w-4 text-blue-400 focus:ring-blue-500 border-slate-600 bg-slate-800 rounded"}),(0,l.jsx)("div",{className:"min-w-0 px-2 py-1 text-left",children:"clientName"===f?(0,l.jsx)("input",{type:"text",value:v.clientName,onChange:e=>j({...v,clientName:e.target.value}),onBlur:()=>N("clientName",v.clientName),onKeyPress:e=>w(e,"clientName"),className:"w-full px-2 py-1 text-xs bg-slate-800 border border-slate-600 text-slate-100 rounded focus:outline-none focus:ring-2 focus:ring-slate-500",autoFocus:!0}):(0,l.jsx)("span",{className:"truncate block cursor-pointer hover:bg-slate-700/40 px-2 py-1 rounded transition-colors ".concat(d.completed?"text-slate-400 line-through":"text-slate-100"),onClick:()=>y("clientName"),title:"Click to edit client name",children:d.clientName||"Unnamed Client"})}),(0,l.jsxs)("div",{className:"min-w-0 flex items-center gap-2 px-2 py-1 text-left",children:[k("webUrl","Web URL",d.webUrl,"url"),d.webUrl&&"webUrl"!==f&&(0,l.jsx)("a",{href:d.webUrl,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-slate-200 text-xs shrink-0",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),(0,l.jsx)("div",{className:"min-w-0 px-2 py-1 text-left",children:k("cms","Job Desc",d.cms,"select",n)}),(0,l.jsxs)("div",{className:"min-w-0 flex items-center gap-2 px-2 py-1 text-left",children:[k("figmaUrl","Figma URL",d.figmaUrl,"url"),d.figmaUrl&&"figmaUrl"!==f&&(0,l.jsx)("a",{href:d.figmaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-slate-200 text-xs shrink-0",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),(0,l.jsxs)("div",{className:"min-w-0 flex items-center gap-2 px-2 py-1 text-left",children:[k("assetUrl","Asset URL",d.assetUrl,"url"),d.assetUrl&&"assetUrl"!==f&&(0,l.jsx)("a",{href:d.assetUrl,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-slate-200 text-xs shrink-0",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),(0,l.jsx)("div",{className:"min-w-0 border border-slate-700 rounded-sm px-2 py-1 text-left",children:k("dueDate","Due Date",d.dueDate instanceof Date?d.dueDate.toISOString().split("T")[0]:"","date")}),(0,l.jsx)("div",{className:"min-w-[150px] px-2 py-1 text-left",children:"status"===f?(0,l.jsx)("select",{value:v.status,onChange:e=>N("status",e.target.value),onBlur:()=>b(null),className:"px-2 py-1 text-xs font-medium rounded-full border border-slate-600 bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-500",autoFocus:!0,children:i.map(e=>(0,l.jsx)("option",{value:e,children:e},e))}):(0,l.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full cursor-pointer hover:ring-2 hover:ring-slate-500 transition-all ".concat((d.status,"bg-slate-700 text-slate-200")," ").concat(d.completed?"opacity-50":""),onClick:()=>y("status"),title:"Click to change status",children:d.status})}),(0,l.jsx)("div",{className:"min-w-0 px-2 py-1 text-left",children:"priority"===f?(0,l.jsx)("select",{value:v.priority,onChange:e=>N("priority",e.target.value),onBlur:()=>b(null),className:"px-2 py-1 text-xs font-medium rounded-full border border-slate-600 bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-500",autoFocus:!0,children:r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))}):(0,l.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full cursor-pointer hover:ring-2 hover:ring-slate-500 transition-all ".concat((d.priority,"bg-slate-700 text-slate-200")," ").concat(d.completed?"opacity-50":""),onClick:()=>y("priority"),title:"Click to change priority",children:d.priority})}),(0,l.jsx)("div",{className:"min-w-0 px-2 py-1 text-left",children:"totalPrice"===f?k("totalPrice","Total Price",(null==(o=d.totalPrice)?void 0:o.toString())||"","number"):(0,l.jsx)("span",{className:"cursor-pointer hover:bg-slate-700/40 px-2 py-1 rounded transition-colors",onClick:()=>y("totalPrice"),title:"Click to edit",children:d.totalPrice?"\xa3".concat(d.totalPrice.toFixed(2)):"N/A"})}),(0,l.jsx)("div",{className:"min-w-0 px-2 py-1 text-left",children:"deposit"===f?k("deposit","Deposit",(null==(c=d.deposit)?void 0:c.toString())||"","number"):(0,l.jsx)("span",{className:"cursor-pointer hover:bg-slate-700/40 px-2 py-1 rounded transition-colors",onClick:()=>y("deposit"),title:"Click to edit",children:d.deposit?"\xa3".concat(d.deposit.toFixed(2)):"N/A"})}),(0,l.jsx)("div",{className:"flex items-center justify-start gap-2 px-2 py-1",children:h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>{let e={dueDate:v.dueDate?new Date(v.dueDate):null,priority:v.priority,status:v.status,clientName:v.clientName.trim(),cms:v.cms,webUrl:v.webUrl.trim(),figmaUrl:v.figmaUrl.trim(),assetUrl:v.assetUrl.trim(),totalPrice:v.totalPrice?parseFloat(v.totalPrice):null,deposit:v.deposit?parseFloat(v.deposit):null,updatedAt:new Date};x(d.id,e),g(!1)},className:"text-green-400 hover:text-green-300 transition-colors duration-200","aria-label":"Save changes",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,l.jsx)("button",{onClick:()=>{var e,t;j({dueDate:d.dueDate instanceof Date?d.dueDate.toISOString().split("T")[0]:"",priority:d.priority,status:d.status,clientName:d.clientName,cms:d.cms,webUrl:d.webUrl,figmaUrl:d.figmaUrl,assetUrl:d.assetUrl,totalPrice:(null==(e=d.totalPrice)?void 0:e.toString())||"",deposit:(null==(t=d.deposit)?void 0:t.toString())||""}),g(!1)},className:"text-slate-300 hover:text-slate-200 transition-colors duration-200","aria-label":"Cancel editing",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{onClick:()=>m(d.id),className:"text-red-400 hover:text-red-300 transition-colors duration-200","aria-label":"Delete task",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})})]})}function c(e){let{tasks:t,onToggleComplete:s,onDeleteTask:r,onEditTask:i}=e,n=new Date().getFullYear(),c=Array.from({length:12},(e,t)=>{let s=new Date(n,t,1);return{value:"".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0")),label:s.toLocaleString(void 0,{month:"short"}),year:s.getFullYear()}}),[d,u]=(0,a.useState)("all"),m=(0,a.useMemo)(()=>{if("all"===d)return t;let[e,s]=d.split("-").map(Number);return t.filter(t=>t.dueDate instanceof Date&&t.dueDate.getFullYear()===e&&t.dueDate.getMonth()+1===s)},[t,d]),x=(0,a.useMemo)(()=>m.reduce((e,t)=>e+(t.totalPrice||0),0),[m]),p=(0,a.useMemo)(()=>m.filter(e=>"Completed"===e.status).length,[m]),h=(0,a.useMemo)(()=>m.filter(e=>"InProcess"===e.status).length,[m]);return 0===t.length?(0,l.jsxs)("div",{className:"bg-slate-800 rounded-lg border border-slate-700 p-8 text-center",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("svg",{className:"mx-auto h-12 w-12 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,l.jsx)("h3",{className:"text-slate-100 text-lg font-medium mb-2",children:"No projects yet"}),(0,l.jsx)("p",{className:"text-slate-300",children:"Get started by adding your first project above!"})]}):(0,l.jsxs)("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-800 border-b border-slate-700",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1 overflow-x-auto",children:[(0,l.jsx)("button",{className:"px-2 py-1 rounded text-[11px] ".concat("all"===d?"bg-slate-700 text-slate-100":"hover:bg-slate-700/50 text-slate-300"),onClick:()=>u("all"),children:"All"}),c.map(e=>(0,l.jsx)("button",{className:"px-2 py-1 rounded text-[11px] ".concat(d===e.value?"bg-slate-700 text-slate-100":"hover:bg-slate-700/50 text-slate-300"),onClick:()=>u(e.value),title:"".concat(e.label," ").concat(e.year),children:e.label},e.value))]}),(0,l.jsxs)("div",{className:"text-xs font-medium text-slate-300 flex items-center gap-2",children:[(0,l.jsxs)("span",{className:"px-1.5 py-0.5 rounded bg-slate-700 text-slate-200",children:["All: ",p+h]}),(0,l.jsxs)("span",{className:"px-1.5 py-0.5 rounded bg-slate-700 text-slate-200",children:["Completed: ",p]}),(0,l.jsxs)("span",{className:"px-1.5 py-0.5 rounded bg-slate-700 text-slate-200",children:["In progress: ",h]}),(0,l.jsxs)("span",{className:"px-1.5 py-0.5 rounded bg-slate-700 text-slate-200",children:["Earnings: \xa3",x.toFixed(2)]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-[24px_3fr_1.5fr_1.5fr_1.5fr_1.5fr_1.5fr_1.8fr_1.3fr_1.2fr_1.2fr_auto] items-center gap-0 px-3 py-1 text-[11px] font-semibold text-slate-300 tracking-wide bg-slate-900 border-b border-slate-700 divide-x divide-slate-700",children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Name"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Web"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Job Desc"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Figma"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Asset"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Due"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Status"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Priority"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Cost"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Deposit"}),(0,l.jsx)("div",{className:"text-left pl-2",children:"Actions"})]}),(0,l.jsx)("div",{className:"divide-y divide-slate-700",children:m.map(e=>(0,l.jsx)(o,{task:e,onToggleComplete:s,onDeleteTask:r,onEditTask:i},e.id))})]})}var d=s(5239);function u(e){let{className:t="",size:s="md",iconOnly:a=!1}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-3 ".concat(t),children:[(0,l.jsx)("div",{className:"".concat({sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"}[s]," flex-shrink-0"),children:(0,l.jsx)(d.default,{src:"/metalogics-logo.svg",alt:"Metalogics Logo",width:48,height:48,className:"w-full h-full",priority:!0})}),!a&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-white leading-tight",children:"Metalogics"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 leading-tight",children:"Task Manager"})]})]})}let m=["Low","Medium","High","Urgent"],x=["InProcess","Waiting for Quote","Completed"],p=["Wordpress","Shopify","Designing","SEO","Marketing"],h=new Date().toISOString().split("T")[0];function g(e){let{onAddTask:t,isVisible:s,onClose:r}=e,[i,n]=(0,a.useState)(h),[o,c]=(0,a.useState)("Low"),[d,u]=(0,a.useState)("Waiting for Quote"),[g,f]=(0,a.useState)(""),[b,v]=(0,a.useState)(null),[j,N]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[k,D]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),[U,L]=(0,a.useState)("");return s?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:(0,l.jsxs)("div",{className:"bg-slate-800 border border-slate-700 shadow p-6 w-full max-w-2xl mx-4 my-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4 text-slate-100",children:"Add New Task"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g.trim()&&(t({dueDate:i?new Date(i):null,priority:o,completed:!1,status:d,clientName:g.trim(),cms:b,webUrl:j.trim(),figmaUrl:y.trim(),assetUrl:k.trim(),totalPrice:C?parseFloat(C):null,deposit:U?parseFloat(U):null}),n(h),c("Low"),u("Waiting for Quote"),f(""),v(null),N(""),w(""),D(""),S(""),L(""),r())},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"clientName",className:"block text-sm font-medium text-slate-300 mb-1",children:"Client Name *"}),(0,l.jsx)("input",{type:"text",id:"clientName",value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"Enter client name...",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-slate-300 mb-1",children:"Due Date"}),(0,l.jsx)("input",{type:"date",id:"dueDate",value:i,onChange:e=>n(e.target.value),className:"w-full px-3 py-3 text-base bg-slate-800 border border-slate-600 text-slate-100 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-slate-300 mb-1",children:"Priority"}),(0,l.jsx)("select",{id:"priority",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",children:m.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-300 mb-1",children:"Status"}),(0,l.jsx)("select",{id:"status",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",children:x.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"cms",className:"block text-sm font-medium text-slate-300 mb-1",children:"Job Desc"}),(0,l.jsx)("select",{id:"cms",value:b||"",onChange:e=>v(e.target.value?e.target.value:null),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",children:p.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"webUrl",className:"block text-sm font-medium text-slate-300 mb-1",children:"Web URL"}),(0,l.jsx)("input",{type:"url",id:"webUrl",value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"https://..."})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"figmaUrl",className:"block text-sm font-medium text-slate-300 mb-1",children:"Figma URL"}),(0,l.jsx)("input",{type:"url",id:"figmaUrl",value:y,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"https://figma.com/..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"assetUrl",className:"block text-sm font-medium text-slate-300 mb-1",children:"Asset URL"}),(0,l.jsx)("input",{type:"url",id:"assetUrl",value:k,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"https://..."})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"totalPrice",className:"block text-sm font-medium text-slate-300 mb-1",children:"Total Price ($)"}),(0,l.jsx)("input",{type:"number",id:"totalPrice",value:C,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"0.00",step:"0.01",min:"0"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"deposit",className:"block text-sm font-medium text-slate-300 mb-1",children:"Deposit ($)"}),(0,l.jsx)("input",{type:"number",id:"deposit",value:U,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"0.00",step:"0.01",min:"0"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{n(h),c("Low"),u("Waiting for Quote"),f(""),v(null),N(""),w(""),D(""),S(""),L(""),r()},className:"flex-1 px-4 py-2 text-slate-100 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors duration-200",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors duration-200",children:"Add Task"})]})]})]})}):null}function f(){let{tasks:e,loading:t,error:s,createTask:r,updateTask:i,deleteTask:n,toggleComplete:o}=function(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),n=(0,a.useRef)(!1),o=async()=>{let e,t=window.localStorage.getItem("tasks");if(!t)return{imported:0,skipped:0};try{e=JSON.parse(t)}catch(e){return{imported:0,skipped:0}}if(!Array.isArray(e)||0===e.length)return{imported:0,skipped:0};let s=["Low","Medium","High","Urgent"],l=["Completed","InProcess","Waiting for Quote"],a=e=>"string"==typeof e&&s.includes(e),r=e=>"string"==typeof e&&l.includes(e),i=e=>{let t="string"==typeof e?parseFloat(e):"number"==typeof e?e:NaN;return Number.isFinite(t)?t:null},n=0,o=0;for(let t of e)try{var c,d,u;let e=(t.clientName||t.name||"").toString().trim()||"Unnamed Client",s=t.dueDate?new Date(t.dueDate):null,l=!!t.completed,m=a(t.priority)?t.priority:"Low",x=r(t.status)?t.status:l?"Completed":"InProcess",p=null!=(c=t.cms)?c:null,h=(t.webUrl||"").toString(),g=(t.figmaUrl||"").toString(),f=(t.assetUrl||"").toString(),b=i(null!=(d=t.totalPrice)?d:null),v=i(null!=(u=t.deposit)?u:null),j={clientName:e,dueDate:s,completed:l,priority:m,status:x,cms:p,webUrl:h,figmaUrl:g,assetUrl:f,totalPrice:b,deposit:v};if(!(await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).ok){o++;continue}n++}catch(e){o++}try{window.localStorage.removeItem("tasks")}catch(e){}return{imported:n,skipped:o}},c=async()=>{try{l(!0),i(null);let e=new AbortController,s=setTimeout(()=>e.abort(),1e4),a=await fetch("/api/tasks",{signal:e.signal});if(clearTimeout(s),!a.ok)throw Error("HTTP error! status: ".concat(a.status));let r=await a.json();if(console.log("API Response:",r),r.success&&Array.isArray(r.data)){let e=r.data.map(e=>({...e,id:e._id,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),dueDate:e.dueDate?new Date(e.dueDate):null}));if(t(e),console.log("Tasks loaded:",e.length),!n.current&&0===e.length){n.current=!0;try{let{imported:e}=await o();if(e>0)return void await c()}catch(e){}}}else{let e=r.details||r.error||"Failed to fetch tasks";i(e),console.error("API returned error:",r.error),console.error("Error details:",r.details)}}catch(e){e instanceof Error&&"AbortError"===e.name?i("Request timeout - please check your connection"):i("Network error occurred"),console.error("Error fetching tasks:",e)}finally{l(!1)}},d=async e=>{try{i(null);let s=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await s.json();if(!l.success||!l.data)return i(l.error||"Failed to create task"),!1;{let e=l.data,s={...e,id:e._id,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),dueDate:e.dueDate?new Date(e.dueDate):null};return t(e=>[...e,s]),!0}}catch(e){return i("Network error occurred"),console.error("Error creating task:",e),!1}},u=async(e,s)=>{try{i(null);let l=await fetch("/api/tasks/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await l.json();if(!a.success||!a.data)return i(a.error||"Failed to update task"),!1;{let s=a.data,l={...s,id:s._id,createdAt:new Date(s.createdAt),updatedAt:new Date(s.updatedAt),dueDate:s.dueDate?new Date(s.dueDate):null};return t(t=>t.map(t=>t.id===e?l:t)),!0}}catch(e){return i("Network error occurred"),console.error("Error updating task:",e),!1}},m=async e=>{try{i(null);let s=await fetch("/api/tasks/".concat(e),{method:"DELETE"}),l=await s.json();if(l.success)return t(t=>t.filter(t=>t.id!==e)),!0;return i(l.error||"Failed to delete task"),!1}catch(e){return i("Network error occurred"),console.error("Error deleting task:",e),!1}},x=async t=>{let s=e.find(e=>e.id===t);if(!s)return!1;let l=!s.completed;return await u(t,{completed:l,status:l?"Completed":"InProcess"})};return(0,a.useEffect)(()=>{c()},[]),{tasks:e,loading:s,error:r,createTask:d,updateTask:u,deleteTask:m,toggleComplete:x,refetch:c}}(),[d,m]=(0,a.useState)(!1),x=async e=>{await r(e)&&m(!1)},p=(0,a.useCallback)(async e=>{await o(e)},[o]),h=(0,a.useCallback)(async e=>{await n(e)},[n]),f=(0,a.useCallback)(async(e,t)=>{let{id:s,createdAt:l,updatedAt:a,...r}=t;await i(e,r)},[i]);if(t)return(0,l.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-slate-300",children:"Loading tasks..."})]})});if(s)return(0,l.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center max-w-md",children:[(0,l.jsx)("div",{className:"text-red-400 mb-4 text-xl",children:"❌ Error loading tasks"}),(0,l.jsx)("p",{className:"text-slate-300 mb-4",children:s}),(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})});let b=e.filter(e=>"Completed"===e.status).length+e.filter(e=>"InProcess"===e.status).length;return(0,l.jsx)("div",{className:"min-h-screen bg-gray-900 text-white",children:(0,l.jsxs)("div",{className:"max-w-full mx-auto px-6 py-8",children:[(0,l.jsxs)("header",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[(0,l.jsx)(u,{size:"lg"}),(0,l.jsxs)("div",{className:"bg-slate-700 text-slate-100 px-3 py-1 rounded-full text-sm font-medium",children:[b," ",1===b?"Project":"Projects"]})]}),(0,l.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center gap-2 shadow-md hover:shadow-lg",children:[(0,l.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Project"]})]}),(0,l.jsx)("p",{className:"text-slate-300 mb-3",children:"Stay organized and track your tasks efficiently"})]}),(0,l.jsx)(c,{tasks:e,onToggleComplete:p,onDeleteTask:h,onEditTask:f}),(0,l.jsx)(g,{onAddTask:x,isVisible:d,onClose:()=>m(!1)})]})})}}},e=>{e.O(0,[239,441,255,358],()=>e(e.s=2981)),_N_E=e.O()}]);